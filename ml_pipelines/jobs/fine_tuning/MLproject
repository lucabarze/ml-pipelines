name: FineTuningAMD
docker_env:
  image: core.harbor.apps.eni.lajoie.de/suseai/golden-image:v0.0.1
entry_points:
  main:
    parameters:
      model_name: {type: string, default: "mistralai/Mistral-7B-Instruct-v0.2"}
      mlflow_uri: {type: string, default: "http://mlflow.mlflow.svc.cluster.local"}
      data_uri:   {type: string, default: "latest:Datasets"}
      data_path:  {type: string, default: ""}
      learning_rate: {type: float, default: 0.0002}
      epochs: {type: int, default: 3}
    command: >-
      python fine_tuning_amd.py \
      --model_name {model_name} \
      --mlflow_uri {mlflow_uri} \
      --data_uri {data_uri} \
      --data_path {data_path} \
      --lr {learning_rate} \
      --epochs {epochs}
